{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateSalary=_ref=>{let{token,fetchSalaries}=_ref;const[employeeName,setEmployeeName]=useState('');const[employeeCode,setEmployeeCode]=useState('');const[department,setDepartment]=useState('');const[basicSalary,setBasicSalary]=useState('');const[transportationAllowance,setTransportationAllowance]=useState('');const[housingAllowance,setHousingAllowance]=useState('');const[mealAllowance,setMealAllowance]=useState('');const[incentives,setIncentives]=useState('');const[deductions,setDeductions]=useState('');const[notes,setNotes]=useState('');const handleSubmit=async e=>{e.preventDefault();try{await axios.post('https://nilemixx.duckdns.org/api/salaries',{employeeName,employeeCode,department,basicSalary:Number(basicSalary),transportationAllowance:Number(transportationAllowance),housingAllowance:Number(housingAllowance),mealAllowance:Number(mealAllowance),incentives:Number(incentives),deductions:Number(deductions),notes},{headers:{Authorization:\"Bearer \".concat(token)}});alert('تم تسجيل المرتب بنجاح');// استدعاء fetchSalaries بعد النجاح\nif(fetchSalaries)fetchSalaries();// إعادة تعيين الحقول\nsetEmployeeName('');setEmployeeCode('');setDepartment('');setBasicSalary('');setTransportationAllowance('');setHousingAllowance('');setMealAllowance('');setIncentives('');setDeductions('');setNotes('');}catch(err){var _err$response,_err$response$data;console.error('خطأ في تسجيل المرتب:',err);alert('فشل تسجيل المرتب: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-salary\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0645\\u0631\\u062A\\u0628 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeName,onChange:e=>setEmployeeName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeCode,onChange:e=>setEmployeeCode(e.target.value),placeholder:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:department,onChange:e=>setDepartment(e.target.value),placeholder:\"\\u0627\\u0644\\u0642\\u0633\\u0645\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:basicSalary,onChange:e=>setBasicSalary(e.target.value),placeholder:\"\\u0627\\u0644\\u0631\\u0627\\u062A\\u0628 \\u0627\\u0644\\u0623\\u0633\\u0627\\u0633\\u064A\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:transportationAllowance,onChange:e=>setTransportationAllowance(e.target.value),placeholder:\"\\u0628\\u062F\\u0644 \\u0627\\u0646\\u062A\\u0642\\u0627\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:housingAllowance,onChange:e=>setHousingAllowance(e.target.value),placeholder:\"\\u0628\\u062F\\u0644 \\u0633\\u0643\\u0646\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:mealAllowance,onChange:e=>setMealAllowance(e.target.value),placeholder:\"\\u0628\\u062F\\u0644 \\u0648\\u062C\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:incentives,onChange:e=>setIncentives(e.target.value),placeholder:\"\\u062D\\u0648\\u0627\\u0641\\u0632\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:deductions,onChange:e=>setDeductions(e.target.value),placeholder:\"\\u062E\\u0635\\u0648\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644\"})]})]});};export default CreateSalary;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","CreateSalary","_ref","token","fetchSalaries","employeeName","setEmployeeName","employeeCode","setEmployeeCode","department","setDepartment","basicSalary","setBasicSalary","transportationAllowance","setTransportationAllowance","housingAllowance","setHousingAllowance","mealAllowance","setMealAllowance","incentives","setIncentives","deductions","setDeductions","notes","setNotes","handleSubmit","e","preventDefault","post","Number","headers","Authorization","concat","alert","err","_err$response","_err$response$data","console","error","response","data","message","className","dir","children","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["/root/app/frontend/src/CreateSalary.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst CreateSalary = ({ token, fetchSalaries }) => {\n  const [employeeName, setEmployeeName] = useState('');\n  const [employeeCode, setEmployeeCode] = useState('');\n  const [department, setDepartment] = useState('');\n  const [basicSalary, setBasicSalary] = useState('');\n  const [transportationAllowance, setTransportationAllowance] = useState('');\n  const [housingAllowance, setHousingAllowance] = useState('');\n  const [mealAllowance, setMealAllowance] = useState('');\n  const [incentives, setIncentives] = useState('');\n  const [deductions, setDeductions] = useState('');\n  const [notes, setNotes] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post('https://nilemixx.duckdns.org/api/salaries', {\n        employeeName,\n        employeeCode,\n        department,\n        basicSalary: Number(basicSalary),\n        transportationAllowance: Number(transportationAllowance),\n        housingAllowance: Number(housingAllowance),\n        mealAllowance: Number(mealAllowance),\n        incentives: Number(incentives),\n        deductions: Number(deductions),\n        notes,\n      }, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      alert('تم تسجيل المرتب بنجاح');\n      // استدعاء fetchSalaries بعد النجاح\n      if (fetchSalaries) fetchSalaries();\n      // إعادة تعيين الحقول\n      setEmployeeName('');\n      setEmployeeCode('');\n      setDepartment('');\n      setBasicSalary('');\n      setTransportationAllowance('');\n      setHousingAllowance('');\n      setMealAllowance('');\n      setIncentives('');\n      setDeductions('');\n      setNotes('');\n    } catch (err) {\n      console.error('خطأ في تسجيل المرتب:', err);\n      alert('فشل تسجيل المرتب: ' + (err.response?.data?.message || err.message));\n    }\n  };\n\n  return (\n    <div className=\"create-salary\" dir=\"rtl\">\n      <h1>تسجيل مرتب جديد</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={employeeName}\n          onChange={(e) => setEmployeeName(e.target.value)}\n          placeholder=\"اسم الموظف\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={employeeCode}\n          onChange={(e) => setEmployeeCode(e.target.value)}\n          placeholder=\"كود الموظف\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={department}\n          onChange={(e) => setDepartment(e.target.value)}\n          placeholder=\"القسم\"\n          required\n        />\n        <input\n          type=\"number\"\n          value={basicSalary}\n          onChange={(e) => setBasicSalary(e.target.value)}\n          placeholder=\"الراتب الأساسي\"\n          required\n        />\n        <input\n          type=\"number\"\n          value={transportationAllowance}\n          onChange={(e) => setTransportationAllowance(e.target.value)}\n          placeholder=\"بدل انتقال\"\n        />\n        <input\n          type=\"number\"\n          value={housingAllowance}\n          onChange={(e) => setHousingAllowance(e.target.value)}\n          placeholder=\"بدل سكن\"\n        />\n        <input\n          type=\"number\"\n          value={mealAllowance}\n          onChange={(e) => setMealAllowance(e.target.value)}\n          placeholder=\"بدل وجبات\"\n        />\n        <input\n          type=\"number\"\n          value={incentives}\n          onChange={(e) => setIncentives(e.target.value)}\n          placeholder=\"حوافز\"\n        />\n        <input\n          type=\"number\"\n          value={deductions}\n          onChange={(e) => setDeductions(e.target.value)}\n          placeholder=\"خصومات\"\n        />\n        <input\n          type=\"text\"\n          value={notes}\n          onChange={(e) => setNotes(e.target.value)}\n          placeholder=\"ملاحظات\"\n        />\n        <button type=\"submit\">تسجيل</button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateSalary;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA8B,IAA7B,CAAEC,KAAK,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAC5C,KAAM,CAACG,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACkB,uBAAuB,CAAEC,0BAA0B,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC1E,KAAM,CAACoB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACsB,aAAa,CAAEC,gBAAgB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACwB,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC4B,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAA8B,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAA/B,KAAK,CAACgC,IAAI,CAAC,2CAA2C,CAAE,CAC5DvB,YAAY,CACZE,YAAY,CACZE,UAAU,CACVE,WAAW,CAAEkB,MAAM,CAAClB,WAAW,CAAC,CAChCE,uBAAuB,CAAEgB,MAAM,CAAChB,uBAAuB,CAAC,CACxDE,gBAAgB,CAAEc,MAAM,CAACd,gBAAgB,CAAC,CAC1CE,aAAa,CAAEY,MAAM,CAACZ,aAAa,CAAC,CACpCE,UAAU,CAAEU,MAAM,CAACV,UAAU,CAAC,CAC9BE,UAAU,CAAEQ,MAAM,CAACR,UAAU,CAAC,CAC9BE,KACF,CAAC,CAAE,CACDO,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAY7B,KAAK,CAAG,CAC9C,CAAC,CAAC,CACF8B,KAAK,CAAC,uBAAuB,CAAC,CAC9B;AACA,GAAI7B,aAAa,CAAEA,aAAa,CAAC,CAAC,CAClC;AACAE,eAAe,CAAC,EAAE,CAAC,CACnBE,eAAe,CAAC,EAAE,CAAC,CACnBE,aAAa,CAAC,EAAE,CAAC,CACjBE,cAAc,CAAC,EAAE,CAAC,CAClBE,0BAA0B,CAAC,EAAE,CAAC,CAC9BE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,gBAAgB,CAAC,EAAE,CAAC,CACpBE,aAAa,CAAC,EAAE,CAAC,CACjBE,aAAa,CAAC,EAAE,CAAC,CACjBE,QAAQ,CAAC,EAAE,CAAC,CACd,CAAE,MAAOU,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEJ,GAAG,CAAC,CAC1CD,KAAK,CAAC,oBAAoB,EAAI,EAAAE,aAAA,CAAAD,GAAG,CAACK,QAAQ,UAAAJ,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcK,IAAI,UAAAJ,kBAAA,iBAAlBA,kBAAA,CAAoBK,OAAO,GAAIP,GAAG,CAACO,OAAO,CAAC,CAAC,CAC5E,CACF,CAAC,CAED,mBACEzC,KAAA,QAAK0C,SAAS,CAAC,eAAe,CAACC,GAAG,CAAC,KAAK,CAAAC,QAAA,eACtC9C,IAAA,OAAA8C,QAAA,CAAI,kFAAe,CAAI,CAAC,cACxB5C,KAAA,SAAM6C,QAAQ,CAAEpB,YAAa,CAAAmB,QAAA,eAC3B9C,IAAA,UACEgD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE1C,YAAa,CACpB2C,QAAQ,CAAGtB,CAAC,EAAKpB,eAAe,CAACoB,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CACjDG,WAAW,CAAC,yDAAY,CACxBC,QAAQ,MACT,CAAC,cACFrD,IAAA,UACEgD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAExC,YAAa,CACpByC,QAAQ,CAAGtB,CAAC,EAAKlB,eAAe,CAACkB,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CACjDG,WAAW,CAAC,yDAAY,CACxBC,QAAQ,MACT,CAAC,cACFrD,IAAA,UACEgD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEtC,UAAW,CAClBuC,QAAQ,CAAGtB,CAAC,EAAKhB,aAAa,CAACgB,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC/CG,WAAW,CAAC,gCAAO,CACnBC,QAAQ,MACT,CAAC,cACFrD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEpC,WAAY,CACnBqC,QAAQ,CAAGtB,CAAC,EAAKd,cAAc,CAACc,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAChDG,WAAW,CAAC,iFAAgB,CAC5BC,QAAQ,MACT,CAAC,cACFrD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAElC,uBAAwB,CAC/BmC,QAAQ,CAAGtB,CAAC,EAAKZ,0BAA0B,CAACY,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC5DG,WAAW,CAAC,yDAAY,CACzB,CAAC,cACFpD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEhC,gBAAiB,CACxBiC,QAAQ,CAAGtB,CAAC,EAAKV,mBAAmB,CAACU,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CACrDG,WAAW,CAAC,uCAAS,CACtB,CAAC,cACFpD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAE9B,aAAc,CACrB+B,QAAQ,CAAGtB,CAAC,EAAKR,gBAAgB,CAACQ,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAClDG,WAAW,CAAC,mDAAW,CACxB,CAAC,cACFpD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAE5B,UAAW,CAClB6B,QAAQ,CAAGtB,CAAC,EAAKN,aAAa,CAACM,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC/CG,WAAW,CAAC,gCAAO,CACpB,CAAC,cACFpD,IAAA,UACEgD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAE1B,UAAW,CAClB2B,QAAQ,CAAGtB,CAAC,EAAKJ,aAAa,CAACI,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC/CG,WAAW,CAAC,sCAAQ,CACrB,CAAC,cACFpD,IAAA,UACEgD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAExB,KAAM,CACbyB,QAAQ,CAAGtB,CAAC,EAAKF,QAAQ,CAACE,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,4CAAS,CACtB,CAAC,cACFpD,IAAA,WAAQgD,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gCAAK,CAAQ,CAAC,EAChC,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}